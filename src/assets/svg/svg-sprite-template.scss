@mixin svg-sprite($currentWidth, $fullWidth, $currentHeight, $fullHeight) {
  background-size: percentage($fullWidth / $currentWidth) percentage($fullHeight / $currentHeight);
}

{{#common}}.{{/common}}{{^common}}%{{/common}}{{mixin}} {
  background-repeat: no-repeat;
  background-image: url({{{sprite}}});
}

{{#shapes}}{{#selector.shape}}{{expression}}{{^last}},
{{/last}}{{/selector.shape}} {
  background-position: {{position.relative.xy}};{{^common}}
  @extend %{{mixin}};{{/common}}{{#dimensions.inline}}
  width: {{width.outer}}px;
  height: {{height.outer}}px;{{/dimensions.inline}}
  @include svg-sprite({{width.outer}}, {{spriteWidth}}, {{height.outer}}, {{spriteHeight}});
}{{#dimensions.extra}}

{{#selector.dimensions}}{{expression}}{{^last}},
{{/last}}{{/selector.dimensions}} {
  width: {{width.outer}}px;
  height: {{height.outer}}px;
}{{/dimensions.extra}}

{{/shapes}}