<!-- 
  Copyright (C) 2015 guh
 
  This software may be modified and distributed under the terms
  of the MIT license.  See the LICENSE file for details.
-->

<!-- Events -->
<ul class="list" ng-show="addRule.eventDescriptors.length > 0">
  <li class="list-item" ng-repeat="eventDescriptor in addRule.eventDescriptors track by $index">{{ eventDescriptor.device.name }}: {{ eventDescriptor.name }}</li>
</ul>

<guh-wizard ng-if="addRule.show.addEvent">
  <guh-wizard-step>
    <!-- List devices -->
    <ul classt="list">
      <li class="list-item" ng-click="addRule.selectDevice(device)" ng-repeat="device in addRule.devicesWithEventTypes track by $index">{{ device.name }}</li>
    </ul>
  </guh-wizard-step>
  <guh-wizard-step>
    <!-- List events -->
    <guh-device-class model="addRule.currentDevice.deviceClass" save-event-descriptor="addRule.saveEventDescriptor(eventTypeData)" show="{events:true}"></guh-device-class>
  </guh-wizard-step>
</guh-wizard>

<p><button ng-click="addRule.addEvent()" type="button">Add Event</button></p>